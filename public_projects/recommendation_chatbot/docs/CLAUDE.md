# CLAUDE.md

## Gemini CLI 연동 가이드 (전문가 협력 모드)

### 목적
사용자가 「Gemini와 상의하면서 진행해줘」라고 지시할 경우, **Gemini(분석가)**와 **Claude(구현자)**가 전문 영역별로 협력한다. Gemini가 요구사항을 분석하고 전체 설계를 담당하면, Claude가 구체적인 코드 구현을 맡는다. 이후 Gemini가 코드를 리뷰하고 개선점을 제시하면 Claude가 수정하는 방식으로 **완벽한 솔루션**을 만든다.

---

### 트리거
- 정규표현식: `/Gemini.*상의하면서|협력|같이.*작업/`
- 예시:
  - 「Gemini와 상의하면서 진행해줘」
  - 「이건 Gemini랑 협력해서 만들자」
  - 「Gemini와 같이 작업하면서 개발해줘」

---

### 협력 워크플로우

#### 1단계: Gemini 전체 분석 (Analyst Phase)
```bash
set ANALYSIS_PROMPT=다음 요구사항을 전체적으로 분석해주세요:

[사용자 요구사항]

분석해야 할 내용:
1. 핵심 기능과 요구사항 정리
2. 기술 스택 추천 (언어, 라이브러리, 프레임워크)
3. 전체 아키텍처 설계
4. 구현 순서와 우선순위
5. 고려해야 할 제약사항이나 위험요소
6. 예상되는 기술적 난점

분석가 관점에서 상세하게 설계해주세요.

gemini -p "%ANALYSIS_PROMPT%"
```

#### 2단계: Claude 구현 (Implementation Phase)
```
## 🧠 Gemini 분석 결과:
[Gemini의 전체 분석 및 설계안]

## 🤖 Claude 구현:
[Gemini 설계를 바탕으로 구체적인 코드 작성]
- 핵심 함수/클래스 구현
- 필요한 라이브러리 임포트
- 기본 구조 완성
- 초기 테스트 코드
```

#### 3단계: Gemini 코드 리뷰 (Review Phase)
```bash
set REVIEW_PROMPT=Claude가 구현한 코드를 리뷰해주세요:

=== 원래 요구사항 ===
[최초 요구사항]

=== Gemini 설계안 ===
[이전 분석 결과]

=== Claude 구현 코드 ===
[Claude가 작성한 코드]

코드 리뷰 관점:
1. 설계안 대비 누락된 기능이 있는가?
2. 코드 품질 및 최적화 여지
3. 버그나 오류 가능성
4. 보안 취약점
5. 성능 개선점
6. 확장성 고려사항
7. 코드 가독성 및 유지보수성

개선이 필요한 부분을 구체적으로 지적해주세요.

gemini -p "%REVIEW_PROMPT%"
```

#### 4단계: Claude 수정 및 개선 (Refinement Phase)
```
## 🧠 Gemini 코드 리뷰:
[Gemini의 리뷰 의견 및 개선 제안]

## 🤖 Claude 수정 버전:
[리뷰 의견을 반영한 개선된 코드]
- 지적된 버그 수정
- 성능 최적화 적용
- 보안 강화
- 코드 구조 개선
- 추가 기능 구현
```

#### 5단계: 최종 검증 (Validation Phase)
```bash
set FINAL_CHECK=최종 검증을 도와주세요:

=== 최초 요구사항 ===
[원래 요구사항]

=== 최종 구현 코드 ===
[수정 완료된 코드]

최종 체크리스트:
1. 모든 요구사항이 충족되었는가?
2. 코드가 실제로 동작할 것 같은가?
3. 추가로 필요한 테스트는?
4. 배포 시 고려사항은?
5. 사용자 가이드나 문서화 필요사항은?

OK 사인 또는 추가 수정 요청을 해주세요.

gemini -p "%FINAL_CHECK%"
```

---

### 실행 예시

**사용자 입력:**
```
"Python으로 웹 스크래핑 도구를 Gemini와 상의하면서 만들어줘"
```

**워크플로우 진행:**

```
## 🧠 Gemini 분석가:
- 요구사항: 웹 스크래핑 도구
- 추천 스택: requests + BeautifulSoup + pandas
- 아키텍처: 모듈화된 클래스 설계
- 우선순위: 기본 스크래핑 → 데이터 처리 → 에러 핸들링
- 고려사항: robots.txt 준수, 레이트 리미팅

## 🤖 Claude 구현자:
[구체적인 WebScraper 클래스 코드 작성]

## 🧠 Gemini 리뷰어:
- 문제점: 예외처리 부족, 사용자 에이전트 미설정
- 개선점: 비동기 처리 추가, 로그 시스템 필요

## 🤖 Claude 수정자:
[리뷰 의견 반영한 개선 버전]

## 🧠 Gemini 최종 검증:
✅ 요구사항 충족, 배포 준비 완료
```

---

### 협력 모드 설정

#### 반복 횟수 조절
```
- "1차 리뷰까지만"
- "완벽해질 때까지 계속"
- "3번 수정 후 마무리"
```

#### 전문 영역 집중
```bash
# 보안 중심 리뷰
set SECURITY_FOCUS=보안 전문가 관점에서만 집중 리뷰해주세요

# 성능 중심 리뷰  
set PERFORMANCE_FOCUS=성능 최적화 관점에서만 분석해주세요

# UX 중심 리뷰
set UX_FOCUS=사용자 경험 관점에서 개선점을 찾아주세요
```

---

### 역할 분담

#### 🧠 Gemini (분석가 & 리뷰어)
- 요구사항 분석 및 정리
- 기술 스택 및 아키텍처 설계  
- 구현 우선순위 결정
- 코드 품질 리뷰
- 버그 및 개선점 발견
- 최종 검증 및 승인

#### 🤖 Claude (구현자 & 수정자)
- 구체적인 코드 작성
- 라이브러리 활용 및 구현
- 버그 수정 및 디버깅
- 성능 최적화 적용
- 코드 리팩토링
- 테스트 코드 작성

---

### 출력 템플릿

```markdown
## 🔄 협력 진행 상황
Phase [N]: [현재 단계명]

## 🧠 Gemini [역할]:
[Gemini의 분석/리뷰 내용]

## 🤖 Claude [역할]:
[Claude의 구현/수정 내용]

```
[코드 블록]
```

## 📊 현재 상태:
- ✅ 완료된 작업
- 🔄 진행 중인 작업  
- ⏳ 예정된 작업

## 📝 다음 단계:
[다음에 진행할 협력 작업]
```

---

이 협력 모드를 통해 **Gemini의 분석력**과 **Claude의 구현력**을 최대한 활용하여 높은 품질의 솔루션을 만들 수 있습니다!